{% extends "eZPlatformUIBundle::pjax_admin.html.twig" %}

{% trans_default_domain "content_type" %}

{% block header_breadcrumbs %}
    {% set breadcrumb_items = [
        {link: path('admin_dashboard'), label: 'dashboard.title'|trans({}, 'dashboard')},
        {link: path('admin_contenttype'), label: 'content_type.dashboard_title'|trans},
        {link: null, label: 'content_type.group.list'|trans}
    ] %}
    {{ parent() }}
{% endblock %}

{% block header_title %}
    <h1 class="ez-page-header-name" data-icon="&#xe91f;">{{ 'content_type.group.list'|trans }}</h1>
{% endblock %}

{% block content %}
    <section class="ez-serverside-content">
        <div class="ez-list-toolbar">
            <h2 class="ez-list-toolbar-label">{{ 'content_type.group.list'|trans }}</h2>
            <div class="ez-list-toolbar-tools">
                <a href="{{ path('admin_contenttypeGroupEdit') }}" class="ez-button ez-button-primary" data-icon="&#xe616;"{% if not can_edit %} data-disabled{% endif %}>{{ 'content_type.group.new'|trans }}</a>
            </div>
        </div>
        <table class="ez-table-data ez-table-data-row-tool">
            <thead>
                <tr>
                    <th>{{ 'content_type.group.name'|trans }}</th>
                    <th>{{ 'content_type.group.id'|trans }}</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
            {% for group in content_type_groups %}
                {# @var group \eZ\Publish\Core\Repository\Values\ContentType\ContentTypeGroup #}
                <tr>
                    <td><a href="{{ path("admin_contenttypeGroupView", {"contentTypeGroupId": group.id}) }}">{{ group.identifier }}</a></td>
                    <td>{{ group.id }}</td>
                    <td>
                        {% set deleteForm = delete_forms_by_id[group.id] %}
                        {{ form_start(deleteForm, {"action": path("admin_contenttypeGroupDelete", {"contentTypeGroupId": group.id})}) }}
                        <a href="{{ path("admin_contenttypeGroupEdit", {'contentTypeGroupId': group.id}) }}" class="ez-button ez-button-secondary" data-icon="&#xe606;"{% if not can_edit %} data-disabled{% endif %}>{{ 'content_type.group.edit'|trans }}</a>
                        {{ form_widget(deleteForm.contentTypeGroupId) }}
                        {{
                            form_widget(
                                deleteForm.delete,
                                {
                                    "disabled": not can_delete,
                                    "attr": {"class": "ez-button ez-button-negative"}
                                }
                            )
                        }}
                        {{ form_end(deleteForm) }}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </section>
{% endblock %}

{% block title %}{{ 'content_type.group.list'|trans }}{% endblock %}
